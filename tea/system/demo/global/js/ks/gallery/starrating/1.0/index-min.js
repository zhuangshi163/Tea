KISSY.add("gallery/starrating/1.0/index",function(c,b){return b},{requires:["./starrating"]});
KISSY.add("gallery/starrating/1.0/starrating",function(c){function b(a){b.superclass.constructor.apply(this,arguments);this._init()}b.ATTRS={container:{setter:function(a){return c.isString(a)?c.one(a):a.offset?a:new c.Node(a)}},reason:{value:[]},level:{value:[]},tipsCls:{value:"rating-tips"},itemCls:{value:"shop-rating"},popCls:{value:"rating-pop-tip"},currentCls:{value:"current-rating"},resultCls:{value:"result"},valueName:{value:"data-star-value"}};c.extend(b,c.Base,{_init:function(){var a=this,
b=a.get("container");if(b){var e=a.get("reason"),j=a.get("level"),k=a.get("currentCls");b.all("."+a.get("itemCls")).each(function(h,d){e[d]||(e[d]=[]);h.all("a").each(function(f,g){e[d][g]=e[d][g]||"";j[g]=j[g]||"";var i=f.attr(a.get("valueName")),l=e[d][g];f.on("click",function(c){c.halt();h.all("."+k).removeClass(k);f.addClass(k);b.all("."+a.get("tipsCls")).hide();h.one("input").val(i);h.one("."+a.get("resultCls")).html("<span><em>"+i+"</em> \u5206</span> - <strong>"+l+"</strong>");a.fire("rating",{idx:d,
score:i})}).on("mouseenter",function(d){var d=new c.Node(d.currentTarget),e=d.offset(),f=b.offset();b.all("."+a.get("popCls")).html("<span><em>"+i+"</em> \u5206 "+j[g]+"</span><strong>"+l+"</strong>").css({left:e.left+d.width()-f.left-100+"px",top:e.top-f.top+d.height()+"px"}).show()}).on("mouseleave",function(){b.all("."+a.get("popCls")).hide()});try{6===c.UA.ie&&f.parent().addClass(f.attr("class").split()[0])}catch(m){}})})}}});c.namespace("Gallery");return c.Gallery.StarRating=b});
