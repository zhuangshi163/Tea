KISSY.add("gallery/huabao/1.0/ui/detail",function(d,c,i,e){var l=c.Slide,m=c.Carousel,c={},k={};c.decorate=function(b,a){return k[a.target||"content"](b,a)};c.add=function(b,a){k[b]=a};c.add("content",function(b,a){var a=d.merge({panels:b.get("panels"),activeIndex:0,activeTriggerCls:"ks-active",hasTriggers:!1,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn"},a),c=new l(b.get("srcNode"),a);b.on("afterActiveIndexChange",function(h){var j=h.newVal,h=h.prevVal;d.log("activeIndex: "+
h+" -> "+j);c.switchTo(j);i.removeClass(b.get("triggers")[h],a.activeTriggerCls);i.addClass(b.get("triggers")[j],a.activeTriggerCls)});var f=d.get("."+a.prevBtnCls,b.get("srcNode")),g=d.get("."+a.nextBtnCls,b.get("srcNode"));f&&e.on(f,"click",function(){b.prev()});g&&e.on(g,"click",function(){b.next()});b.set("activeIndex",a.activeIndex);return c});c.add("nav",function(b,a){var a=d.merge({panels:b.get("triggers"),steps:1,activeIndex:0},a),c=new m(b.get("srcNode"),a);b.on("afterPageIndexChange",function(b){var a=
b.newVal;d.log("pageIndex: "+b.prevVal+" -> "+a);c.switchTo(a)});var f=d.get("."+a.prevBtnCls,b.get("srcNode")),g=d.get("."+a.nextBtnCls,b.get("srcNode"));f&&e.detach(f)&&e.on(f,"click",function(){b.prevPage()});g&&e.detach(g)&&e.on(g,"click",function(){b.nextPage()});c.on("itemSelected",function(a){for(var a=a.item,c=0;a=i.prev(a);)c++;b.switchTo(c)});b.set("pageSize",a.steps);b.set("pageIndex",a.activeIndex);return c});return c},{requires:["switchable","dom","event"]});
