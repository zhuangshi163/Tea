KISSY.add("gallery/moment/2.0.0/index",function(ea,x){function y(a,b){return function(c){return j(a.call(this,c),b)}}function N(a){return function(b){return this.lang().ordinal(a.call(this,b))}}function z(){}function q(a){r(this,a)}function s(a){var b=this._data={},c=a.years||a.year||a.y||0,i=a.months||a.month||a.M||0,e=a.weeks||a.week||a.w||0,d=a.days||a.day||a.d||0,k=a.hours||a.hour||a.h||0,h=a.minutes||a.minute||a.m||0,f=a.seconds||a.second||a.s||0,a=a.milliseconds||a.millisecond||a.ms||0;this._milliseconds=
a+1E3*f+6E4*h+36E5*k;this._days=d+7*e;this._months=i+12*c;b.milliseconds=a%1E3;f+=m(a/1E3);b.seconds=f%60;h+=m(f/60);b.minutes=h%60;k+=m(h/60);b.hours=k%24;d+=m(k/24);d+=7*e;b.days=d%30;i+=m(d/30);b.months=i%12;c+=m(i/12);b.years=c}function r(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function m(a){return 0>a?Math.ceil(a):Math.floor(a)}function j(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function A(a,b,c){var d=b._milliseconds,e=b._days,b=b._months;d&&a._d.setTime(+a+d*c);
e&&a.date(a.date()+e*c);b&&(d=a.date(),a.date(1).month(a.month()+b*c).date(Math.min(d,a.daysInMonth())))}function B(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,g;for(g=0;g<c;g++)~~a[g]!==~~b[g]&&e++;return e+d}function o(a){if(!a)return d.fn._lang;!p[a]&&O&&require("./lang/"+a);return p[a]}function P(a){var b=a.match(C),c,d;c=0;for(d=b.length;c<d;c++)b[c]=l[b[c]]?l[b[c]]:b[c].match(/\[.*\]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(e){var g="";
for(c=0;c<d;c++)g+="function"===typeof b[c].call?b[c].call(e,a):b[c];return g}}function Q(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&D.test(b);)b=b.replace(D,c);t[b]||(t[b]=P(b));return t[b](a)}function R(a){switch(a){case "DDDD":return S;case "YYYY":return T;case "YYYYY":return U;case "S":case "SS":case "SSS":case "DDD":return V;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return W;case "X":return X;case "Z":case "ZZ":return E;case "T":return Y;
case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return Z;default:return RegExp(a.replace("\\",""))}}function F(a){var b,c=[];if(!a._d){for(b=0;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[3]+=a._tzh||0;c[4]+=a._tzm||0;b=new Date(0);a._useUTC?(b.setUTCFullYear(c[0],c[1],c[2]),b.setUTCHours(c[3],c[4],c[5],c[6])):(b.setFullYear(c[0],c[1],c[2]),b.setHours(c[3],c[4],c[5],c[6]));a._d=b}}function u(a){var b=a._f.match(C),
c=a._i,d,e;a._a=[];for(d=0;d<b.length;d++)if((e=(R(b[d]).exec(c)||[])[0])&&(c=c.slice(c.indexOf(e)+e.length)),l[b[d]]){var g=a,f=void 0,h=g._a;switch(b[d]){case "M":case "MM":h[1]=null==e?0:~~e-1;break;case "MMM":case "MMMM":f=o(g._l).monthsParse(e);null!=f?h[1]=f:g._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=e&&(h[2]=~~e);break;case "YY":h[0]=~~e+(68<~~e?1900:2E3);break;case "YYYY":case "YYYYY":h[0]=~~e;break;case "a":case "A":g._isPm="pm"===(e+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":h[3]=
~~e;break;case "m":case "mm":h[4]=~~e;break;case "s":case "ss":h[5]=~~e;break;case "S":case "SS":case "SSS":h[6]=~~(1E3*("0."+e));break;case "X":g._d=new Date(1E3*parseFloat(e));break;case "Z":case "ZZ":g._useUTC=!0;if((f=(e+"").match($))&&f[1])g._tzh=~~f[1];f&&f[2]&&(g._tzm=~~f[2]);f&&"+"===f[0]&&(g._tzh=-g._tzh,g._tzm=-g._tzm)}null==e&&(g._isValid=!1)}a._isPm&&12>a._a[3]&&(a._a[3]+=12);!1===a._isPm&&12===a._a[3]&&(a._a[3]=0);F(a)}function aa(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function G(a,
b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);return Math.ceil(d(a).add("d",c).dayOfYear()/7)}function H(a){var b=a._i,c=a._f;if(null===b||""===b)return null;"string"===typeof b&&(a._i=b=o().preparse(b));if(d.isMoment(b))a=r({},b),a._d=new Date(+b._d);else if(c)if("[object Array]"===Object.prototype.toString.call(c)){for(var b=a,i,e,f=99;b._f.length;){i=r({},b);i._f=b._f.pop();u(i);c=new q(i);if(c.isValid()){e=c;break}i=B(i._a,c.toArray());i<f&&(f=i,e=c)}r(b,e)}else u(a);else if(e=a,b=e._i,c=ba.exec(b),
b===x)e._d=new Date;else if(c)e._d=new Date(+c[1]);else if("string"===typeof b)if(c=e._i,ca.exec(c)){e._f="YYYY-MM-DDT";for(b=0;4>b;b++)if(I[b][1].exec(c)){e._f+=I[b][0];break}E.exec(c)&&(e._f+=" Z");u(e)}else e._d=new Date(c);else"[object Array]"===Object.prototype.toString.call(b)?(e._a=b.slice(0),F(e)):e._d=b instanceof Date?new Date(+b):new Date(b);return new q(a)}function J(a,b){d.fn[a]=d.fn[a+"s"]=function(a){var d=this._isUTC?"UTC":"";return null!=a?(this._d["set"+d+b](a),this):this._d["get"+
d+b]()}}function da(a){d.duration.fn[a]=function(){return this._data[a]}}function K(a,b){d.duration.fn["as"+a]=function(){return+this/b}}for(var d,n=Math.round,f,p={},O="undefined"!==typeof module&&module.exports,ba=/^\/?Date\((\-?\d+)/i,C=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Z=/\d\d?/,V=/\d{1,3}/,S=/\d{3}/,T=/\d{1,4}/,U=/[+\-]?\d{1,6}/,W=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,
E=/Z|[\+\-]\d\d:?\d\d/i,Y=/T/i,X=/[\+\-]?\d+(\.\d{1,3})?/,ca=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,I=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],$=/([\+\-]|\d\d)/gi,v="Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),w={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},t={},L="DDD,w,W,M,D,d".split(","),M="M,D,H,h,m,s,w,W".split(","),
l={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%
100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return j(~~(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),
3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(~~(a/60),2)+":"+j(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(~~(10*a/6),4)},X:function(){return this.unix()}};L.length;)f=L.pop(),l[f+"o"]=N(l[f]);for(;M.length;)f=M.pop(),l[f+f]=y(l[f],2);l.DDDD=y(l.DDD,3);z.prototype={set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),
months:function(a){return this._months[a.month()]},_monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=d([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su,Mo,Tu,We,Th,Fr,Sa".split(","),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",
dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return G(a,this._week.dow,this._week.doy)},
_week:{dow:0,doy:6}};d=function(a,b,c){return H({_i:a,_f:b,_l:c,_isUTC:!1})};d.utc=function(a,b,c){return H({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})};d.unix=function(a){return d(1E3*a)};d.duration=function(a,b){var c=d.isDuration(a),f="number"===typeof a,e=c?a._data:f?{}:a;f&&(b?e[b]=a:e.milliseconds=a);f=new s(e);c&&a.hasOwnProperty("_lang")&&(f._lang=a._lang);return f};d.version="2.0.0";d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";d.lang=function(a,b){if(!a)return d.fn._lang._abbr;b?(b.abbr=a,p[a]||(p[a]=
new z),p[a].set(b)):p[a]||o(a);d.duration.fn._lang=d.fn._lang=o(a)};d.langData=function(a){a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr);return o(a)};d.isMoment=function(a){return a instanceof q};d.isDuration=function(a){return a instanceof s};d.fn=q.prototype={clone:function(){return d(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return d.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){null==this._isValid&&(this._isValid=this._a?!B(this._a,(this._isUTC?d.utc(this._a):d(this._a)).toArray()):!isNaN(this._d.getTime()));return!!this._isValid},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){a=Q(this,a||d.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===
typeof a?d.duration(+b,a):d.duration(a,b);A(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?d.duration(+b,a):d.duration(a,b);A(this,c,-1);return this},diff:function(a,b,c){var a=this._isUTC?d(a).utc():d(a).local(),f=6E4*(this.zone()-a.zone()),e;b&&(b=b.replace(/s$/,""));"year"===b||"month"===b?(f=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-a.year())+(this.month()-a.month()),e+=(this-d(this).startOf("month")-(a-d(a).startOf("month")))/f,"year"===b&&(e/=12)):
(f=this-a-f,e="second"===b?f/1E3:"minute"===b?f/6E4:"hour"===b?f/36E5:"day"===b?f/864E5:"week"===b?f/6048E5:f);return c?e:m(e)},from:function(a,b){return d.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(d(),a)},calendar:function(){var a=this.diff(d().startOf("day"),"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){var a=
this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<d([this.year()]).zone()||this.zone()<d([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){a=a.replace(/s$/,"");switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&
this.day(0);return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)>+d(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+d(a).startOf(b)},isSame:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)===+d(a).startOf(b)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return d.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=n((d(this).startOf("day")-d(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},isoWeek:function(a){var b=G(this,1,4);return null==a?b:this.add("d",7*(a-b))},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},lang:function(a){if(a===x)return this._lang;this._lang=o(a);return this}};for(f=0;f<v.length;f++)J(v[f].toLowerCase().replace(/s$/,""),v[f]);
J("year","FullYear");d.fn.days=d.fn.day;d.fn.weeks=d.fn.week;d.fn.isoWeeks=d.fn.isoWeek;d.duration.fn=s.prototype={weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=n(Math.abs(b)/1E3),f=n(e/60),k=n(f/60),h=n(k/24),j=n(h/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===k&&["h"]||22>k&&["hh",k]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",n(h/30)]||
1===j&&["y"]||["yy",j];e[2]=c;e[3]=0<b;e[4]=d;c=aa.apply({},e);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},lang:d.fn.lang};for(f in w)w.hasOwnProperty(f)&&(K(f,w[f]),da(f.toLowerCase()));K("Weeks",6048E5);d.lang("en",{ordinal:function(a){var b=a%10;return a+(1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}});d.lang("zh-cn",{months:"\u4e00\u6708,\u4e8c\u6708,\u4e09\u6708,\u56db\u6708,\u4e94\u6708,\u516d\u6708,\u4e03\u6708,\u516b\u6708,\u4e5d\u6708,\u5341\u6708,\u5341\u4e00\u6708,\u5341\u4e8c\u6708".split(","),monthsShort:"1\u6708,2\u6708,3\u6708,4\u6708,5\u6708,6\u6708,7\u6708,8\u6708,9\u6708,10\u6708,11\u6708,12\u6708".split(","),weekdays:"\u661f\u671f\u65e5,\u661f\u671f\u4e00,\u661f\u671f\u4e8c,\u661f\u671f\u4e09,\u661f\u671f\u56db,\u661f\u671f\u4e94,\u661f\u671f\u516d".split(","),
weekdaysShort:"\u5468\u65e5,\u5468\u4e00,\u5468\u4e8c,\u5468\u4e09,\u5468\u56db,\u5468\u4e94,\u5468\u516d".split(","),weekdaysMin:"\u65e5,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d".split(","),longDateFormat:{LT:"Ah\u70b9mm",L:"YYYY\u5e74MMMD\u65e5",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5LT",LLLL:"YYYY\u5e74MMMD\u65e5ddddLT",l:"YYYY\u5e74MMMD\u65e5",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5LT",llll:"YYYY\u5e74MMMD\u65e5ddddLT"},meridiem:function(a,b){return 9>a?"\u65e9\u4e0a":11>a&&30>b?"\u4e0a\u5348":13>a&&30>b?"\u4e2d\u5348":18>a?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},relativeTime:{future:"%s\u5185",past:"%s\u524d",
s:"\u51e0\u79d2",m:"1\u5206\u949f",mm:"%d\u5206\u949f",h:"1\u5c0f\u65f6",hh:"%d\u5c0f\u65f6",d:"1\u5929",dd:"%d\u5929",M:"1\u4e2a\u6708",MM:"%d\u4e2a\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return d});
